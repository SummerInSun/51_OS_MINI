C51 COMPILER V9.02   MAIN                                                                  03/06/2016 13:46:22 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\main.obj
COMPILER INVOKED BY: D:\msprograms\keil4\C51\BIN\C51.EXE ..\main\main.c OPTIMIZE(2,SPEED) BROWSE INCDIR(../head) DEBUG O
                    -BJECTEXTEND PRINT(.\main.lst) OBJECT(.\main.obj)

line level    source

   1          #include <stc15f2k60s2.h>
   2          #include "uart.h"
   3          #include "common.h"
   4          #include "nt_led.h"
   5          #include "vector.h"
   6          #include "eeprom.h"
   7          #include "core.h"
   8          
   9          unsigned long xdata timer_dis = 0;
  10          
  11          void task1(void)
  12          {
  13   1              while(1)
  14   1              {
  15   2                      delay_ms(100);
  16   2                      
  17   2                      uart_send_byte('A');
  18   2              }
  19   1              
  20   1      }
  21          
  22          void task0(void)
  23          {
  24   1              while(1)
  25   1              {
  26   2      //              uart_send_byte('A');
  27   2      //              if(timer_dis >= 10000)
  28   2      //              {
  29   2      //                      uart_send_byte('B');
  30   2      //                      timer_dis = 0;
  31   2      //              }
  32   2      //              uart_send_byte('\r');
  33   2      //              uart_send_byte('\n');
  34   2              }
  35   1      }
  36          
  37          void task2(void)
  38          {
  39   1              while(1)
  40   1              {
  41   2      //              uart_send_byte('\r');
  42   2      //              uart_send_byte('\n');
  43   2                      delay_ms(150);
  44   2                      uart_send_byte('B');
  45   2              }
  46   1      }
  47          
  48          void main(void)
  49          {
  50   1              uart_bartvar(24, 115200);
  51   1      //      timer0_init(1000);
  52   1              timer1_init(10000);
  53   1              EA = 0;
  54   1              
C51 COMPILER V9.02   MAIN                                                                  03/06/2016 13:46:22 PAGE 2   

  55   1              OS_init();
  56   1      
  57   1              task_create(0, (unsigned int)(&task0), 0);      
  58   1              task_create(0, (unsigned int)(&task1), 0);      
  59   1              task_create(0, (unsigned int)(&task2), 0);      
  60   1      
  61   1              OS_start();
  62   1              
  63   1              while(1);
  64   1      }
  65          
  66          void uart() interrupt 4
  67          {
  68   1              
  69   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    122    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      4    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
