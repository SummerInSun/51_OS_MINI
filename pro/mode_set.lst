C51 COMPILER V9.02   MODE_SET                                                              01/31/2016 12:31:26 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE MODE_SET
OBJECT MODULE PLACED IN .\mode_set.obj
COMPILER INVOKED BY: D:\Program Files\keil4\C51\BIN\C51.EXE ..\src\mode_set.c BROWSE INCDIR(..\head) DEBUG OBJECTEXTEND 
                    -PRINT(.\mode_set.lst) OBJECT(.\mode_set.obj)

line level    source

   1          #include <mode_set.h> 
   2          
   3          /*****************************************
   4           *单片机引脚模式选择，有标准，推挽，开漏等
   5           *例:com_set(p0,pn2,output); 设置P0^2脚为输出 
   6           *****************************************/
   7          void com_set(m_com_select p,com_select pn,mode_select mode)
   8          {
   9   1              switch(p)
  10   1              {
  11   2                      case p0:
  12   2                      {
  13   3                              P0M0 = (P0M0 & (1 << pn)) ? ((P0M0 ^ (1 << pn)) | (((mode << 7) >> 7) << pn)) : (P0M0 | (((mode << 7) >
             -> 7) << pn));                
  14   3                              P0M1 = (P0M1 & (1 << pn)) ? ((P0M1 ^ (1 << pn)) | ((mode >> 1) << pn)) : (P0M1 | ((mode >> 1) << pn));
  15   3                      }
  16   2                      case p1:
  17   2                      {
  18   3                              P1M0 = (P1M0 & (1 << pn)) ? ((P1M0 ^ (1 << pn)) | (((mode << 7) >> 7) << pn)) : (P1M0 | (((mode << 7) >
             -> 7) << pn));                
  19   3                              P1M1 = (P1M1 & (1 << pn)) ? ((P1M1 ^ (1 << pn)) | ((mode >> 1) << pn)) : (P1M1 | ((mode >> 1) << pn));
  20   3                      }
  21   2                      case p2:
  22   2                      {
  23   3                              P2M0 = (P2M0 & (1 << pn)) ? ((P2M0 ^ (1 << pn)) | (((mode << 7) >> 7) << pn)) : (P2M0 | (((mode << 7) >
             -> 7) << pn));                
  24   3                              P2M1 = (P2M1 & (1 << pn)) ? ((P2M1 ^ (1 << pn)) | ((mode >> 1) << pn)) : (P2M1 | ((mode >> 1) << pn));
  25   3                      }
  26   2                      case p3:
  27   2                      {
  28   3                              P3M0 = (P3M0 & (1 << pn)) ? ((P3M0 ^ (1 << pn)) | (((mode << 7) >> 7) << pn)) : (P3M0 | (((mode << 7) >
             -> 7) << pn));                
  29   3                              P3M1 = (P3M1 & (1 << pn)) ? ((P3M1 ^ (1 << pn)) | ((mode >> 1) << pn)) : (P3M1 | ((mode >> 1) << pn));
  30   3                      }
  31   2                      case p4:
  32   2                      {
  33   3                              P0M0 = (P4M0 & (1 << pn)) ? ((P4M0 ^ (1 << pn)) | (((mode << 7) >> 7) << pn)) : (P4M0 | (((mode << 7) >
             -> 7) << pn));                
  34   3                              P0M1 = (P4M1 & (1 << pn)) ? ((P4M1 ^ (1 << pn)) | ((mode >> 1) << pn)) : (P4M1 | ((mode >> 1) << pn));
  35   3                      }
  36   2              }
  37   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1064    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
